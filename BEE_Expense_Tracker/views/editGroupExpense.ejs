<!DOCTYPE html>
<html>
<head>
    <title>Edit Group Expense</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>

<header>
    <nav>
        <a href="/groups" class="btn">Groups</a>
        <a href="/expenses" class="btn">Expenses</a>
        <a href="/profile" class="btn">Profile</a>
        <a href="/logout" class="btn">Logout</a>
    </nav>
</header>

<div class="container">
    <h1>Edit Group Expense</h1>

    <form action="/group-expenses/edit/<%= expense._id %>" method="POST">

        <input type="text" name="title" value="<%= expense.title %>" required>

        <input type="number" name="amount" value="<%= expense.amount %>" step="0.01" required>

        <input type="date" name="date" value="<%= expense.date.toISOString().slice(0,10) %>" required>

        <select name="category">
            <% categories.forEach(cat => { %>
                <option value="<%= cat._id %>" 
                    <%= expense.category && cat._id.toString() === expense.category._id.toString() ? "selected" : "" %>>
                    <%= cat.name %>
                </option>
            <% }) %>
        </select>

        <button type="submit" class="btn">Update Expense</button>
    </form>

    <a href="/groups/<%= expense.groupId._id %>" class="btn">Back to Group</a>
</div>

</body>
</html>
